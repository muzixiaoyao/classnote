# IPSec VPN

## VPN技术解决的问题

集团下不同子公司或者说公司不同部门和分公司不在同一个地理位置要互相访问，使用运营商专线成本过高，这时候各种低成本虚拟专用网(VPN)技术就孕育而生，来传输企业内部私有数据。  

## VPN的两种连接方式

根据客户接入方式的不同，VPN的接入方式分为点到点和远程访问。

### 站点到站点（Site to Site）

![site to site](https://s1.ax1x.com/2018/12/15/FUTqte.jpg)  

如果所示，两个站点之间用vpn技术虚拟的连接在一起，两边内网的员工感知不到vpn技术的存在，就感觉都在同一个内网中。  
站点到站点的VPN技术包含以下几种

GRE  
通用路由封装技术，能够对网络层各种协议进行封装，被封装的数据报文能够在IP网络中传输。GRE使用的是隧道技术。是VPN的三层隧道协议，一般和IPSec VPN搭配使用。  

IPSec VPN  
业界标准的网络安全协议，为IP网络通信提供透明的安全服务，保护TCP/IP通信免遭窃听和篡改。  

MPLS VPN  
采用MPLS技术在宽带IP骨干网络上构建企业IP专网，实现跨地域、安全、高速、可靠地数据、语言图像等多业务通信。  

### 远程访问

![remote access](https://s1.ax1x.com/2018/12/15/FUHCK1.jpg)  

在外面出差的员工用vpn的客户端拨号远程连接到公司中，拨号上去后会得到一个内网IP，这时候客户端的PC就相当于在公司的内网中。  

几种远程访问VPN技术：  

IPSec VPN  
VPDN  
SSL VPN  

## IPSec基本理论

IPSec是一项标准的安全技术，在数据包中插入一个预定义的头部，保障OSI协议数据的安全。IPSec主要保护网络层(IP)数据，因此它提供了网络层的安全性。  

提供了三个方面的保护：  

1. 私密性  
2. 完整性  
3. 源认证  

